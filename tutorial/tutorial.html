<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Verdant</title>
    <link rel="shortcut icon" href="icon.ico" type="image/vnd.microsoft.icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Bungee+Hairline&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./index.css" type="text/css" />
  </head>
  <body>
    <div id="nav">
      <span
        ><img
          src="./images/GitHub-Mark-64px.png"
          class="githubIcon"
          alt="GitHub Icon" /></span
      ><a href="https://github.com/mkery/Verdant"
        ><code>github.com/mkery/Verdant</code></a
      >
    </div>
    <div id="header">
      <h1>Verdant</h1>
      <p>
        A version control tool for
        <a href="https://jupyterlab.readthedocs.io/en/stable/">JupyterLab</a>
        that automatically records the history of your experimentation while you
        work.ðŸŒ±
      </p>
      <div id="install">
        To install: <code>jupyter labextension install verdant-history</code> or
        search <code>verdant-history</code> under the extension manager tab in
        JupyterLab ðŸŒ±
      </div>
    </div>
    <div id="page-nav">
      <div class="page-nav-title"><a href="../index.html">Overview</a></div>
      <div class="page-nav-title selected">Getting Started Tutorial</div>
    </div>
    <div id="content">
      <div class="step intro">
        ðŸŒ¿ Welcome! The goal of this getting started tutorial is to give you
        some hands-on practice understanding the edit history of a Jupyter
        notebook using Verdant. ðŸŒ¿
      </div>
      <div class="step">
        <h2>Setup & Materials</h2>
        <p>
          For this tutorial you'll need Verdant installed in JupyterLab. We'll
          use a notebook <code>houses_kc.ipynb</code> and its Verdant history
          file <code>houses_kc.ipyhistory</code>. Verdant stores output images,
          like plots or charts, in a seperate folder
          <code>houses_kc_output</code>. All of these materials can be
          downloaded as a zip file <code>tutorial_notebook.zip</code> from the
          <a
            href="https://github.com/mkery/Verdant/blob/master/tutorial/tutorial_notebook.zip"
            >GitHub repository tutorial folder</a
          >.
        </p>
        <p>
          Next unzip the folder on your own machine and start jupyter lab with
          <code>jupyter lab .</code>. Open up the notebook in:
          <code>tutorial_notebook/houses_king_county/houses_kc.ipynb</code>.
        </p>
        <p>
          If everything has loaded OK, you should see
          <b>Verdant's tree log icon</b> at the left. Click the log to open up
          Verdant. You should see an activity pane like below.
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 50em"
            src="./images/Screenshots/Tutorial-Housing/setup2.png"
          />
        </div>
        <p>
          In <code>houses_kc.ipynb</code> the author has been at work predicting
          housing prices in the Seattle area of the United States. In this
          tutorial, we'll use history to uncover different details of the
          analysis and the author's modeling choices.
        </p>
        <br />
        <div class="QA">
          <p class="question">
            ðŸŒ± In this tutorial, triple-click the black bar with your mouse to
            reveal the answers to a question. ðŸŒ±
          </p>
          <p class="answer">Secret revealed. You did it!</p>
        </div>
      </div>
      <div class="step">
        <h2>1. Get an overview of what has been done so far</h2>
        <p>
          The dataset in this analysis has a fair number of features to describe
          each property. However, the author of
          <code>houses_kc.ipynb</code> seems to have picked just a single
          feature <code>sqft_living</code> for their first model:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 50em"
            src="./images/Screenshots/Tutorial-Housing/overview_step1.png"
          />
        </div>
        <p>
          Did the author explore any of the other features? One good way to get
          an overview is to take a peek at how this notebook has evolved over
          time. Using the <b>activity pane</b> (shown below) scroll down to the
          earliest version of the notebook.
        </p>

        <div class="center">
          <img
            class="verdant-screenshot"
            style="height: 20em"
            src="./images/Screenshots/Tutorial-Housing/overview_step2.png"
          />
        </div>
        <div class="QA">
          <p class="question">
            Question: Looking at the earliest version, what date and time did
            the author first start working on this notebook?
          </p>
          <p class="answer">January 25, 2021 at 3:46pm</p>
        </div>
        <p>
          The <b>notebook minimap</b> with the colorful ticks next to each
          version row shows us which cells changed in a given notebook version.
          Green indicates a cell added, red a cell deleted, blue a cell changed,
          and so on.
        </p>
        <div class="QA">
          <p class="question">
            Question: Use your mouse to hover over the vertical line tick in the
            minimap for <b>v39-40</b>. Which cell was changed in v39-v40 and
            how?
          </p>
          <p class="answer">Code cell 9 was edited</p>
        </div>
        <p>
          Now let's get back to figuring out what the author tried in this
          analysis. Try clicking on a version <b>v37</b> (shown below) to open
          the full notebook at that version as a <b>ghost notebook</b>:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 50em"
            src="./images/Screenshots/Tutorial-Housing/overview_step3.png"
          />
        </div>
        <p>
          The diff notation in the <b>ghost notebook</b> highlights what content
          was added (green), deleted (red), or edited (blue) in this version.
          Next, try using the arrows at the top of the ghost book to move ahead
          in time a couple of versions, and watch how the notebook changes:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 50em"
            src="./images/Screenshots/Tutorial-Housing/overview_step4.png"
          />
        </div>
        <div class="QA">
          <p class="question">
            Question: Glance through versions v37 to v50 of the notebook. Other
            than sqft_living, what are 2 other features the author plotted
            compared to price?
          </p>
          <p class="answer">zipcode, bedrooms, or bathrooms</p>
        </div>
        <p>
          Hopefully you've spotted a few charts in these versions, however it's
          a bit tedious to skim one at a time though versions. Next let's learn
          some strategies to more directly find specific things from history!
        </p>
      </div>
      <div class="step">
        <h2>2. Track model improvements</h2>
        <p>
          For this notebook, it would be helpful to know what kind of model
          performance the author has gotten so far for predicting house prices.
          What kind of models have they tried and what were their results?
        </p>
        <p>
          There are a few ways in Verdant to find specific history. Head over to
          the Artifacts tab.
        </p>
        <p>
          The Artifacts tab has two views: a <b>table view</b> summarizing
          overall history of your current notebook and a
          <b>detailed history view</b> that will show you all history for one
          specific artifact (a cell or an output):
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="height: 25em"
            src="./images/Screenshots/Tutorial-Housing/artifact_modes.png"
          />
        </div>
        <p>First, let's check out the table view:</p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="height: 30em"
            src="./images/Screenshots/Tutorial-Housing/artifact_table.png"
          />
        </div>
        <p>
          For each cell & output in your current notebook, this table lists how
          many versions exist of that cell. Cells are abbreviated <b>C</b> for
          code and <b>M</b> for markdown. Each cell has a number that identifies
          it, like <b>C2</b>. This id is unique, permanent, and never changes,
          so that you can always recover a specific cell even after it's been
          deleted.
        </p>
        <div class="QA">
          <p class="question">
            Question: How many versions exist for C4 (Code Cell 4)?
          </p>
          <p class="answer">11</p>
        </div>
        <p>
          Scroll the table down to the output of code cell 14 (C14). In the
          preview of this output, we can see that this cell of the notebook
          prints out model metrics.
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 30em"
            src="./images/Screenshots/Tutorial-Housing/artifact_step2.png"
          />
        </div>
        <p>Click on the output to see all of its versions:</p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 45em"
            src="./images/Screenshots/Tutorial-Housing/artifact_step3.png"
          />
        </div>
        <p>
          Welcome to the <b>detail view</b>! The detail view will show you every
          version that has ever been created of a specific thing. While in this
          view, clicking on a link like Notebook v128 will open up the
          <b>ghost notebook</b> to help you see a specific version in context of
          the full notebook version.
        </p>
        <div class="QA">
          <p class="question">
            Question: Using the detail view for the
            <b>output of code cell 14</b>, what was the <i>lowest</i> value of
            <code>Coefficient of determination</code> the author got?
          </p>
          <p class="answer">0.29</p>
        </div>
        <p>
          Now, taking a look at the current Jupyter notebook, we can see that
          the author actually has two different models in their notebook. Next
          let's take a look at the history of metrics for the second model.
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 45em"
            src="./images/Screenshots/Tutorial-Housing/artifact_step4.png"
          />
        </div>
        <p>
          A different way of finding history in Verdant is to use the
          <b>version inspector</b>.
        </p>
        <p>
          Click on the <b>Version Inspector</b> button to activate the
          inspector. Then click on the final output in the current notebook to
          see its history. With the inspector, you can get the history of
          <b>anything</b> from the current notebook just by clicking on it.
          After using the inspector to click on the last output of the notebook,
          you should now be seeing metrics of the output of code cell 22:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 20em"
            src="./images/Screenshots/Tutorial-Housing/artifact_step5.png"
          />
        </div>
        <div class="QA">
          <p class="question">
            Question: Using the detail view for the
            <b>output of code cell 22</b>, what was the <i>highest</i> value of
            <code>Coefficient of determination</code> the author got?
          </p>
          <p class="answer">0.69</p>
        </div>
        <p>
          Finally, sometimes you'll want to retrieve the history of a cell or
          output that was <b>deleted</b> i.e. it no longer exists in the current
          Jupyter notebook. To find history of anything by keyword,
          <i>including</i> the history of previously deleted cells, use the
          <b>history search</b> tab of Verdant:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 18em"
            src="./images/Screenshots/Tutorial-Housing/search_metrics.png"
          />
        </div>
      </div>
      <div class="step">
        <h2>3. Finding images, charts & visualizations</h2>
        <p>
          A few ending words on how to find charts and images in history. The
          <b>history search</b> has a few special keywords, such that if you
          search for "plot" or "image" or "chart", the search will return
          <i>all</i> images a notebook has ever produced:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 20em"
            src="./images/Screenshots/Tutorial-Housing/search_step1.png"
          />
        </div>
        <p>
          Verdant actually stores all images a notebook produces in a
          auto-generated folder titled {name of your notebook}_output such as
          <code>houses_kc_output</code>. Open that folder in your normal
          computer file browser to see all the images. If you decide to delete
          images stored in this folder they will just show up with a missing
          image symbol in Verdant:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 20em"
            src="./images/Screenshots/Tutorial-Housing/missing_image.png"
          />
        </div>
        <p>
          Meanwhile if you want to <i>reproduce</i> an image you find in the
          output folder, simply copy the name of the file (shown below in
          JupyterLab's file browser):
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="width: 40em"
            src="./images/Screenshots/Tutorial-Housing/reverse_search_step1.png"
          />
        </div>
        <p>
          Be sure to type <b>=</b> before the name to let the history search
          know you're searching for an exact artifact by name:
        </p>
        <div class="center">
          <img
            class="verdant-screenshot"
            style="height: 30em"
            src="./images/Screenshots/Tutorial-Housing/reverse_search_step2.png"
          />
        </div>
        <div class="QA">
          <p class="question">
            Question: One final question to put it all together. How many
            versions of code cell 17's output exist?
          </p>
          <p class="answer">6</p>
        </div>
        <p>
          You did it. Happy coding! If you encounter any issues with Verdant, we
          always appreciate
          <a href="https://forms.gle/cdqdV1LzwStzk2Qy7">feedback</a> or a issue
          report in the
          <a href="https://github.com/mkery/Verdant/issues">repo</a>. Many
          thanks from our team at Carnegie Mellon University. <3
        </p>
      </div>
    </div>
    <footer>
      <a href="https://github.com/mkery/Verdant">Verdant</a> is licensed under
      the MIT License and is maintained by
      <a href="https://marybethkery.com/">Mary Beth Kery</a> at Carnegie Mellon
      University <3
    </footer>
  </body>
</html>
